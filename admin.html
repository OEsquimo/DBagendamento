<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Painel Admin - O Esquim√≥</title>
    <link rel="stylesheet" href="assets/style.css?v=15.0"/>
    <script type="module" defer src="assets/admin.js?v=15.0"></script>
</head>
<body>
<main class="container">
    <h1>Painel Administrativo</h1>

    <!-- Se√ß√£o de Login -->
    <section id="loginSection" class="step">
        <h2 class="step-title"><span>üîê</span> Acesso Administrativo</h2>
        <label for="adminEmail">E-mail</label>
        <input type="email" id="adminEmail" placeholder="seu@email.com"/>
        <label for="adminPassword">Senha</label>
        <input type="password" id="adminPassword" placeholder="Sua senha"/>
        <button id="btnLogin" class="final-button"><span>Entrar</span></button>
        <p id="loginMsg" class="form-message"></p>
    </section>

    <!-- Conte√∫do do Admin -->
    <section id="adminContent" style="display:none;">

        <!-- Configura√ß√µes Gerais -->
        <section class="step">
            <h2 class="step-title"><span>1</span>Configura√ß√µes Gerais</h2>
            <label for="cfgCompanyName">Nome da Empresa</label>
            <input type="text" id="cfgCompanyName" placeholder="Ex: O Esquim√≥"/>
            <label for="cfgCompanyDesc">Descri√ß√£o (p√°gina inicial)</label>
            <input type="text" id="cfgCompanyDesc" placeholder="Breve descri√ß√£o para a home"/>
            <label for="cfgHeroUrl">Imagem de Topo (Hero)</label>
            <select id="cfgHeroUrl"></select>
            <img id="heroImagePreview" src="" alt="Preview da Imagem de Topo" class="image-preview" style="display:none; margin-top: 10px;">
            <label for="cfgWhats">N√∫mero do WhatsApp da Empresa</label>
            <input type="tel" id="cfgWhats" placeholder="(81) 99999-9999"/>
            <button id="btnSaveSite" class="final-button"><span>Salvar Configura√ß√µes</span></button>
            <p id="siteMsg" class="form-message success"></p>
        </section>

        <!-- Grade de Hor√°rios e Vagas -->
        <section class="step">
            <h2 class="step-title"><span>2</span>Grade de Hor√°rios e Vagas</h2>
            <p>Defina os hor√°rios de atendimento e quantas equipes (vagas) est√£o dispon√≠veis para cada um.</p>
            <div id="schedule-grid-container">
                <!-- Hor√°rios ser√£o carregados aqui pelo JS -->
            </div>
            <div class="form-actions">
                <button id="btnAddScheduleSlot" type="button" class="secondary-button">Adicionar Hor√°rio</button>
                <button id="btnSaveSchedule" class="final-button">Salvar Grade de Hor√°rios</button>
            </div>
            <p id="scheduleMsg" class="form-message success"></p>
        </section>

        <!-- Gerenciamento de Servi√ßos -->
        <section class="step">
            <h2 class="step-title"><span>3</span>Servi√ßos Oferecidos</h2>
            <div id="service-form-container"></div>
            <p id="srvMsg" class="form-message success"></p>
            <h3 style="margin-top:20px;">Servi√ßos Cadastrados</h3>
            <div id="srvList" class="service-list-admin"></div>
            <button id="btnShowAddServiceForm" class="final-button" style="margin-top:12px;"><span>Adicionar Novo Servi√ßo</span></button>
        </section>

        <!-- Servi√ßos Agendados -->
        <section class="step">
            <h2 class="step-title"><span>4</span>Servi√ßos Agendados</h2>
            <label for="searchClientPhone">Buscar Agendamento por WhatsApp</label>
            <div class="search-group">
                <input type="tel" id="searchClientPhone" placeholder="(81) 99999-9999">
                <button id="btnSearchClient" class="secondary-button">Buscar</button>
            </div>
            <p id="searchMsg" class="form-message"></p>
            <div id="manualServiceForm" style="display:none;">
                <input type="hidden" id="mServiceId">
                <div class="grid-form">
                    <div><label for="mNome">Nome completo do Cliente</label><input type="text" id="mNome" required/></div>
                    <div><label for="mFone">Telefone (WhatsApp)</label><input type="tel" id="mFone" required/></div>
                    <div class="full-width"><label for="mEndereco">Endere√ßo</label><input type="text" id="mEndereco"/></div>
                    <div><label for="mTipoEquipamento">Tipo de equipamento</label><select id="mTipoEquipamento" required><option value="">Selecione...</option><option>Janela</option><option>Split (Hi-Wall)</option><option>Multi-Split</option><option>Cassete</option><option>Piso-Teto</option><option>Outro</option></select></div>
                    <div><label for="mCapacidade">Capacidade (BTUs)</label><select id="mCapacidade" required><option value="">Selecione...</option><option>9000</option><option>12000</option><option>18000</option><option>24000</option><option>30000</option><option>36000</option><option>48000</option></select></div>
                    <div class="full-width"><label for="mObs">Observa√ß√µes</label><textarea id="mObs" rows="3"></textarea></div>
                    <div><label for="mData">Data</label><input type="date" id="mData" required/></div>
                    <div><label for="mHora">Hora</label><input type="time" id="mHora" required/></div>
                </div>
                <div class="form-actions">
                    <button id="btnSaveManual" class="final-button">Salvar Novo</button>
                    <button id="btnUpdateManual" class="secondary-button" style="display:none;">Atualizar</button>
                    <button id="btnDeleteManual" class="delete-button" style="display:none;">Excluir</button>
                </div>
            </div>
        </section>

        <!-- Lembretes de Limpeza -->
        <section class="step">
            <h2 class="step-title"><span>5</span>Lembrete de Limpeza</h2>
            <p>Lembre seu cliente de fazer a limpeza e manuten√ß√£o preventiva.</p>
            <div class="lembrete-group">
                <label for="cfgReminderMonths">Meses para lembrete de Limpeza (ex: 12)</label>
                <input type="number" id="cfgReminderMonths" min="1" value="12"/>
            </div>
            <button id="btnRodarLembretes" class="final-button"><span>Gerar Lembretes Agora</span></button>
            <ul id="reminderLog" class="reminder-log"></ul>
        </section>

    </section>
</main>
</body>
</html>
