<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Painel Admin - O Esquim√≥</title>
    <link rel="stylesheet" href="assets/style.css?v=8.0"/>
    <script type="module" defer src="assets/admin.js?v=8.0"></script>
</head>
<body>
<main class="container">
    <h1>Painel Administrativo</h1>

    <!-- Se√ß√£o de Login (sem altera√ß√µes) -->
    <section id="loginSection" class="step">
        <h2 class="step-title"><span>üîê</span> Acesso Administrativo</h2>
        <label for="adminEmail">E-mail</label>
        <input type="email" id="adminEmail" placeholder="seu@email.com"/>
        <label for="adminPassword">Senha</label>
        <input type="password" id="adminPassword" placeholder="Sua senha"/>
        <button id="btnLogin" class="final-button"><span>Entrar</span></button>
        <p id="loginMsg" class="form-message"></p>
    </section>

    <!-- Conte√∫do do Admin -->
    <section id="adminContent" style="display:none;">

        <!-- Configura√ß√µes Gerais (sem altera√ß√µes) -->
        <section class="step">
            <h2 class="step-title"><span>1</span>Configura√ß√µes Gerais</h2>
            <label for="cfgCompanyName">Nome da Empresa</label>
            <input type="text" id="cfgCompanyName" placeholder="Ex: O Esquim√≥"/>
            <label for="cfgCompanyDesc">Descri√ß√£o (p√°gina inicial)</label>
            <input type="text" id="cfgCompanyDesc" placeholder="Breve descri√ß√£o para a home"/>
            <label for="cfgHeroUrl">Imagem de Topo (Hero)</label>
            <select id="cfgHeroUrl"></select>
            <img id="heroImagePreview" src="" alt="Preview da Imagem de Topo" class="image-preview" style="display:none; margin-top: 10px;">
            <label for="cfgWhats">N√∫mero do WhatsApp da Empresa</label>
            <input type="tel" id="cfgWhats" placeholder="(81) 99999-9999"/>
            <button id="btnSaveSite" class="final-button"><span>Salvar Configura√ß√µes</span></button>
            <p id="siteMsg" class="form-message success"></p>
        </section>

        <!-- Gerenciamento de Servi√ßos (sem altera√ß√µes) -->
        <section class="step">
            <h2 class="step-title"><span>2</span>Servi√ßos Oferecidos</h2>
            <div id="service-form-container"></div>
            <button id="btnShowAddServiceForm" class="final-button" style="margin-top:12px;"><span>Adicionar Novo Servi√ßo</span></button>
            <p id="srvMsg" class="form-message success"></p>
            <h3 style="margin-top:20px;">Servi√ßos Atuais</h3>
            <div id="srvList" class="service-list-admin"></div>
        </section>

        <!-- **SE√á√ÉO ATUALIZADA: GEST√ÉO DE SERVI√áOS REALIZADOS** -->
        <section class="step">
            <h2 class="step-title"><span>3</span>Gest√£o de Servi√ßos Realizados</h2>
            
            <!-- Campo de Busca -->
            <label for="searchClientPhone">Buscar Cliente por WhatsApp</label>
            <div class="search-group">
                <input type="tel" id="searchClientPhone" placeholder="(81) 99999-9999">
                <button id="btnSearchClient" class="secondary-button">Buscar</button>
            </div>
            <p id="searchMsg" class="form-message"></p>

            <!-- Formul√°rio de Edi√ß√£o/Cria√ß√£o (ser√° preenchido pelo JS) -->
            <div id="manualServiceForm" style="display:none;">
                <input type="hidden" id="mServiceId"> <!-- Campo para guardar o ID do servi√ßo em edi√ß√£o -->
                <div class="grid-form">
                    <div>
                        <label for="mNome">Nome completo do Cliente</label>
                        <input type="text" id="mNome" placeholder="Nome do cliente" maxlength="50" required/>
                    </div>
                    <div>
                        <label for="mFone">Telefone (WhatsApp)</label>
                        <input type="tel" id="mFone" placeholder="(81) 99999-9999" required/>
                    </div>
                    <div class="full-width">
                        <label for="mEndereco">Endere√ßo</label>
                        <input type="text" id="mEndereco" placeholder="Rua, n√∫mero, bairro e cidade"/>
                    </div>
                    <div>
                        <label for="mTipoEquipamento">Tipo de equipamento</label>
                        <select id="mTipoEquipamento" required>
                            <option value="">Selecione...</option>
                            <option>Janela</option><option>Split (Hi-Wall)</option><option>Multi-Split</option>
                            <option>Cassete</option><option>Piso-Teto</option><option>Outro</option>
                        </select>
                    </div>
                    <div>
                        <label for="mCapacidade">Capacidade (BTUs)</label>
                        <select id="mCapacidade" required>
                             <option value="">Selecione...</option>
                             <option>9000</option><option>12000</option><option>18000</option>
                             <option>24000</option><option>30000</option><option>36000</option><option>48000</option>
                        </select>
                    </div>
                    <div class="full-width">
                        <label for="mObs">Observa√ß√µes</label>
                        <textarea id="mObs" rows="3" maxlength="1000"></textarea>
                    </div>
                    <div>
                        <label for="mData">Data</label>
                        <input type="date" id="mData" required/>
                    </div>
                    <div>
                        <label for="mHora">Hora</label>
                        <input type="time" id="mHora" required/>
                    </div>
                </div>
                <!-- Bot√µes de A√ß√£o -->
                <div class="form-actions">
                    <button id="btnSaveManual" class="final-button">Salvar Novo</button>
                    <button id="btnUpdateManual" class="secondary-button" style="display:none;">Atualizar</button>
                    <button id="btnDeleteManual" class="delete-button" style="display:none;">Excluir</button>
                </div>
            </div>
        </section>

        <!-- **SE√á√ÉO ATUALIZADA: LEMBRETES** -->
        <section class="step">
            <h2 class="step-title"><span>4</span>Lembrete de Limpeza</h2>
            <!-- Texto alterado conforme solicitado -->
            <p>Lembre seu cliente de fazer a limpeza e manuten√ß√£o preventiva.</p>
            <div class="lembrete-group">
                <label for="cfgReminderMonths">Meses para lembrete de Limpeza (ex: 12)</label>
                <input type="number" id="cfgReminderMonths" min="1" value="12"/>
            </div>
            <button id="btnRodarLembretes" class="final-button"><span>Gerar Lembretes Agora</span></button>
            <ul id="reminderLog" class="reminder-log"></ul>
        </section>

    </section>
</main>
</body>
</html>
